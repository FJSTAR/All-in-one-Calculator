<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <!-- <script>
        function averageCalculator(){
            var firstUnit = 50;
            var firstPrice = 100;
            var secondUnit = 80;
            var secondPrice = 200;
            var firstAmount = firstUnit*firstPrice;
            var secondAmount = secondUnit*secondPrice;
            var totalUnits = firstUnit+secondUnit;
            var totalAmount = firstAmount+secondAmount;
            var avgPrice = totalAmount/totalUnits;
            console.log(`
            The amount invested in the 1st purchase: ${firstAmount}
            The amount invested in the 2nd purchase: ${secondAmount}
            Total Units: ${totalUnits}
            Average Price: ${Math.round(avgPrice)}
            Total Amount: ${totalAmount}
            `);
        }
        averageCalculator();
    </script> -->

    <style>
        body {
            font-family: Arial, sans-serif;
        }

        input[type="number"] {
            width: 100px;
        }

        hr {
            margin-top: 10px;
            margin-bottom: 10px;
        }

        @media only screen and (min-width:1200px) {
            .wrapper {
                justify-content: center;
            }
        }

        @media only screen and (max-width:600px) {
            .wrapper {
                flex-direction: column;
                justify-content: center;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="row">
            <h1 class="text-center mb-5">Stock market average calculator</h1>
            <div class="wrapper d-flex justify-content-between">
                <div class="first">
                    <h2 class="text-center">First Purchase</h2>
                    <hr />
                    <div class="input-group input-group-lg mb-2">
                        <span class="input-group-text" id="inputGroup-sizing-lg">Units</span>
                        <input type="Number" class="form-control firstUnit" aria-label="Sizing example input"
                            aria-describedby="inputGroup-sizing-lg">
                    </div>
                    <div class="input-group input-group-lg mb-2">
                        <span class="input-group-text" id="inputGroup-sizing-lg">Price Per Share</span>
                        <span class="input-group-text" id="inputGroup-sizing-lg">₹</span>
                        <input type="Number" class="form-control firstPrice" aria-label="Sizing example input"
                            aria-describedby="inputGroup-sizing-lg">
                    </div>
                    <hr />
                    <div id="invested-amount" class="invested-amount d-flex justify-content-between d-none">
                        <p class="text">The amount invested in the 1st purchase:</p>
                        <p class="amount firstAmount"></p>
                    </div>
                </div>
                <div class="vr"></div>
                <div class="second">
                    <h2 class="text-center">Second Purchase</h2>
                    <hr />
                    <div class="input-group input-group-lg mb-2">
                        <span class="input-group-text" id="inputGroup-sizing-lg">Units</span>
                        <input type="Number" class="form-control secondUnit" aria-label="Sizing example input"
                            aria-describedby="inputGroup-sizing-lg">
                    </div>
                    <div class="input-group input-group-lg mb-2">
                        <span class="input-group-text" id="inputGroup-sizing-lg">Price Per Share</span>
                        <span class="input-group-text" id="inputGroup-sizing-lg">₹</span>
                        <input type="Number" class="form-control secondPrice" aria-label="Sizing example input"
                            aria-describedby="inputGroup-sizing-lg">
                    </div>
                    <hr />
                    <div id="invested-amount2" class="invested-amount d-flex justify-content-between d-none">
                        <p class="text">The amount invested in the 2nd purchase:</p>
                        <p class="amount secondAmount"></p>
                    </div>
                </div>
            </div>
            <div class="buttons d-flex justify-content-center">
                <button class="btn btn-primary btn-block mt-5 me-2">Calculate Average</button>
                <button type="button" class="btn btn-warning btn-block mt-5">Clear Feilds</button>
            </div>
            <div class="result justify-content-center mt-5 d-none">
                <h3 class="text-center">Total Units: <span id="total-units"></span></h3>
                <h3 class="text-center">Average Price: <span id="average-price"></span></h3>
                <h3 class="text-center">Total Amount: <span id="total-amount"></span></h3>
            </div>
        </div>
    </div>
    <script>
        const firstUnit = document.querySelector('.firstUnit');
        const firstPrice = document.querySelector('.firstPrice');
        const secondUnit = document.querySelector('.secondUnit');
        const secondPrice = document.querySelector('.secondPrice');
        const firstAmount = document.querySelector('.firstAmount');
        const secondAmount = document.querySelector('.secondAmount');
        const totalUnits = document.querySelector('#total-units');
        const averagePrice = document.querySelector('#average-price');
        const totalAmount = document.querySelector('#total-amount');
        const calculateAverage = document.querySelector('.btn-primary');
        const clearFields = document.querySelector('.btn-warning');
        const result = document.querySelector('.result');
        const investedAmounts = document.querySelectorAll('.invested-amount');

        calculateAverage.addEventListener('click', function () {
            if (firstUnit.value && firstPrice.value && secondUnit.value && secondPrice.value) {
                firstAmount.textContent = firstUnit.value * firstPrice.value;
                secondAmount.textContent = secondUnit.value * secondPrice.value;
                totalUnits.textContent = parseInt(firstUnit.value) + parseInt(secondUnit.value);
                totalAmount.textContent = parseInt(firstAmount.textContent) + parseInt(secondAmount.textContent);
                averagePrice.textContent = Math.round(parseInt(totalAmount.textContent) / parseInt(totalUnits.textContent));
                result.classList.remove('d-none');
                document.getElementById('invested-amount').removeAttribute('class');
                document.getElementById('invested-amount').setAttribute('class',"invested-amount d-flex justify-content-between");
                document.getElementById('invested-amount2').removeAttribute('class');
                document.getElementById('invested-amount2').setAttribute('class',"invested-amount d-flex justify-content-between");
            } else {
                alert('Please fill out all the fields.');
            }
        });

        clearFields.addEventListener('click', function () {
            firstUnit.value = '';
            firstPrice.value = '';
            secondUnit.value = '';
            secondPrice.value = '';
            firstAmount.textContent = '';
            secondAmount.textContent = '';
            totalUnits.textContent = '';
            totalAmount.textContent = '';
            averagePrice.textContent = '';
            result.classList.add('d-none');
        });

    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
</body>

</html>